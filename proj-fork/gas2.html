    <!DOCTYPE html>
    <html lang="en">
    <head>
    <meta charset="utf-8" />
    <script src="http://code.jquery.com/jquery-latest.js"></script>
	<script src="http://www.carqueryapi.com/js/carquery.0.3.4.js"></script> 
<!-- Car Queryapi-->
	<script type="text/javascript" src="http://www.carqueryapi.com/js/jquery.min.js"></script>
<script type="text/javascript" src="http://www.carqueryapi.com/js/carquery.0.3.3.js"></script>
	<!-- //http://www.carqueryapi.com/ -->
	
    <script>

    	var PriceInfo;
    function closestStation(latitude, longitude) {
    	
    	//START: KEVIN CHANGE THIS ACCORDINDLY
	    var maxMilesUntilOilChange = 9000;
    	var maxGasGallons = 40;
    	var milesPerGallon = 30;
    	var gasGallons = 10;
    	//END: KEVIN CHANGE THIS ACCORDINDLY
    	var lowestTotalCost = -1;
    	var lowestID = -1; // seems like a bad approach --> using index
    	var lowestIndex = 0;
    	var lowestGasPrice = Number.MAX_VALUE; // Added by NANA
    	var lowestDistance = Number.MAX_VALUE; // Added by NANA
	    $.ajax({
	    			//url: "http://utek.skule.ca/programming/car.json",
	                url: "http://devapi.mygasfeed.com/stations/radius/" + latitude + "/" + longitude + "/" +"50/reg/Distance/rfej9napna.json?callback=?",
	                dataType: "json",
	                success: function(data) {
	        		 	//alert("Success");	      
	        		 	console.log(data);    
	        		 	lowestGasPrice = data.stations[0].price;// Added by NANA
	        		 	for (var index = 0; index < data.stations.length; index++)  {
	        		 		//if (data.station[index].price != "N/A")	{
	        		 			var milesToStation = parseFloat(data.stations[index].distance.replace(" miles", ""));
	        		 			var priceOfGas = parseFloat(data.stations[index].price);
	        		 			if (maxMilesUntilOilChange <= milesToStation ||
	        		 				gasGallons * milesPerGallon <= milesToStation || data.stations[index].price == "N/A") { //Probably keep last condition and discard the rest
	        		 				continue;
	        		 			} else {
	        		 			//	totalCost = (maxGasGallons - (gasGallons - milesToStation/milesPerGallon)) * priceOfGas;
	        		 			//	if (totalCost <= lowestTotalCost || lowestTotalCost == -1) {
								//			lowestTotalCost = totalCost;
									if (data.stations[index].price < lowestGasPrice){
											lowestDistance = milesToStation;
											lowestGasPrice = data.stations[index].price;
	        		 						lowestID = data.stations[index].id;
	        		 						lowestIndex = index;
	        		 				} else if (data.stations[index].price = lowestGasPrice){
										if(data.stations[index].distance < lowestDistance){
											lowestDistance = milesToStation;
											lowestGasPrice = data.stations[index].price;
	        		 						lowestID = data.stations[index].id;
	        		 						lowestIndex = index;
	        		 					}
	        		 				}
	        		 			}
	        		 		//}
	        		 	} 
	        		 	//for (var index = 0; index < data.stations.length; index++)  {
	        		 	//	if (lowestID == data.stations[index].id) {
	        		 			PriceInfo = data.stations[lowestIndex].price;
	        		 			console.log("The nearest optimal station is " + data.stations[lowestIndex].address);
	        		 			console.log("with cost of " + parseFloat(data.stations[lowestIndex].price) + " per gallon of gas and distance of " + data.stations[lowestIndex].distance + ".");	     
	        		 			calculateGasCost(PriceInfo, milesPerGallon, lowestDistance);		 	
	        		 		//	break;
	        		 	//	}
	        		 	//} 
	                },
	                error:function(){
	        		 	alert("Error");
	 		    	},
	        });
    }


 	function extractDistance(routes){
 		var distance = routes.legs.distance.text;
 		var duration = routes.legs.distance.value;
 	}

 	function calculateGasCost(cost, mpg, distance){
 		thing = cost*(distance/mpg);
 		console.log("cost to get to the station is " + thing);
 		return cost*(distance/mpg);  //HAVEN'T PASSED IN PRICE INFO YET
 	}


    window.onload = function() {
    	//START: CALL THIS FUNCTION TO FIND CLOSEST STATION
    	closestStation(45, -73);
    	//END
    }

    </script>
    </head>
    <body>
        
    <div id="1">
            "Hello World!"
    </div>
    </body>
    </html>